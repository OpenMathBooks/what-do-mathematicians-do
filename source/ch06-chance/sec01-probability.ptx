<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec01-probability" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Probability: Coins and Dice</title>

<p>
    Your friend (not as diligent as you) did not study for his American History test. 
    It's multiple choice, so he knows he has a chance to get each answer correct by simply guessing. He
    feels lucky and is pretty confident about guessing his way to a passing grade.
</p>
<p>
    This exam has 25 questions with 4 answer choices each. So how likely is it that your friend passes the test? 
    There is .000043 (0.0043%) chance that your friend scores a 60\% or higher! Don't tell them him that though.
</p>

<p>
    It's amazing that little kids understand that a coin has a 50% chance of landing on heads. Somehow, ideas of 
    likelihood are built into us... but how can we move from intuitive concepts like dice rolls to complicated situations
    like passing a multiple choice test?
</p>

  <p>
    Probability
  </p>
  <p> Probability is the mathematical tool we use to calculate the likelihood of an event, 
    and we find probability either through counting things or measuring area. Probability questions 
    handled by counting are called discrete probability questions. That's what we'll focus on in this section.
  </p>

<subsection xml:id="subsec-coinflips">
    <title>Coin Flips</title>

    <p>
        Let's start with this question: "If I flip two coins, how likely is it that they both land on heads?" This is 
        a pretty simple question but a great example of how to frame a probability question. Discrete probabilty questions
        can be calculated as follows:

        <ol>
            <li>
                <p>
                    Count all possible outcomes of the situation in question.
                </p>
            </li>
            <li>
                <p>
                    Count the outcomes that we care about.
                </p>
            </li>
            <li>
                <p>
                    Divide the count of outcomes we care about by the count of total outcomes.
                </p>
            </li>
        </ol>
    </p>

    <question>
      <statement>  Let <m>S</m> be the set of outcomes from flipping two coins. What are the elements of <m>S</m>? </statement>
    <solution>
        <p>
            <m>S = {TT, TH, HT, HH}</m>. So we have <m>|S| = 4</m> possibilities.
        </p>
    </solution>
    </question>

    <question>
        <statement>
            <p>
                Let <m>A</m> be the set of outcomes we're interested in (two heads). How many elements are in <m>A</m>?
            </p>
        </statement>
        <solution>
            <p>
                <m>A = {HH}</m>, so <m>|A| = 1</m>.
            </p>
        </solution>
    </question>

    <question>
        <statement>
            <p>
                So what's the probabilty of flipping two heads in two coin flips?
            </p>
        </statement>
        <solution>
            <p>
                The probability of two heads in two clip then is <m>|A|/|S| = 1/4</m>.
            </p>
        </solution>
    </question>

    <p>
        We can now define the probability of event <m>A</m> as <m>P(A) = \dfrac{|A|}{|S|}</m>, where <m>S</m> is the 
        set of all possible outcomes (called the sample space).
    </p>

    <p>
        Let's practice this idea.
    </p>

    <question>
        <statement>
            <p>
                What is the probability of flipping exactly one head in two coin flips?
            </p>
        </statement>
        <solution>
            <p>
                We have the same sample space as before <m>{TT, TH, HT, HH}</m>, and <m>A = {TH, HT}</m>.
                So <m>P(A) = \dfrac{|A|}{|S|} = \dfrac{2}{4}</m>.
            </p>
        </solution>
    </question>

    <question>
        <statement>
            <p>
                What is the probability of flipping exactly one head in three coin flips?  (Find the universal and event sets.)
            </p>
        </statement>
        <solution>
            <p>
                Here <m>S = {TTT, TTH, THT, HTT, THH, HTH, HHT, HHH}</m> and <m>A = {TTH, THT, HTT}</m>, so 
                <m>P(A) = \dfrac{|A|}{|S|} = \dfrac{3}{8}</m>.
            </p>
        </solution>
    </question> 

    
</subsection>  

<subsection xml:id="subsec-dicerolls">
    <title>Dice Rolls</title>
    
    <p>
     Let's look at a different context.
    </p>

    <question>
        <statement>
            <p>
                With a standard 6-side die, what is the probability of rolling a 5?
            </p>
        </statement>

        <solution>
            <p>
                Using the same strategy as the coin exercises, we just need to consider the total possible
                outcomes (6) and how many meet the outcome we're intrested in (1). So <m>P(\text{rolling a }5) = \dfrac{1}{6}</m>.
            </p>
        </solution>
    </question>

    <question>
        <statement>
            <p>
                To attack the boss creature (probably a dragon) in your friend's favorite role-playing game, one must roll
                a 16 or higher with a 20-sided die. What is the probabilty of landing an attack?
            </p>
        </statement>
        <solution>
            <p>
                What rolls are successful? <m>A = \{16, 17, 18, 19, 20\}</m>. So <m>P(\text{attack}) = \dfrac{5}{20} = \dfrac{1}{4}
                </m>
            </p>
        </solution>
    </question>


    <question>
        <statement>
            <p>
                Some card games require coin flips from time to time, and players often roll a six-side die instead
                of flipping a coin. In these instance, an odd roll is tails and an even is heads.
            </p>

            <p>
                Explain why this is equivalent to a coin flip.
            </p>
        </statement>

        <solution>
            <p>
                What is the probability <m>A</m>, the event of rolling an even? We know <m>A = \{2,4,6\}</m>,
                and so <m>P(A) = \dfrac{3}{6} = \dfrac{1}{2}</m>. So rolling an even has the same probability as
                flipping heads. 
            </p>
        </solution>
    </question>

    <p>
        Another one:
    </p>

    <question>
        <statement>
            <p>
                What is the probability of rolling a sum of 7 when rolling two six-sided die?
            </p>
        </statement>

        <solution>
            <p>
                Think of two rolls as an ordered pair. So <m>S = \{(1,1),(1,2),\ldots, (5,6),(6,6) \}</m>.
                Also we can add to 7 in several ways, <m>A = \{(1,6), (2,5), (3,4), (4,3), (5,2), (6,1) \}</m>.
                So <m>P(A) = \dfrac{6}{36} = \dfrac{1}{6}</m>.
            </p>
        </solution>
    </question>

</subsection>

<subsection xml:id="subsec-moreprob">
    <title>A Few More Examples</title>
    
    <p>
        Coin flips and dice rolls are great ways to introduce the mathematical structure of probability, but 
        let's look at a few more somewhat interesting examples of discrete probability.
    </p>

    <question>
        <statement>
            <p>
                Your friend has a collection of old Star Trek cards, each card marked with its number in the set (with no duplicates). For 
                example, the "Spok, Thoughtful Advisor" card is card 50/100 from the set. Your friend is very proud of his collection.
            </p>

            <p>
                However, you notice that the collection is missing cards with a multiple of 7 number (a plot from his little sister). 
                Your friend now randomly selects a card from the set to give to you. What is the probability the card number is a 
                multiple of 5?
            </p>
        </statement>

        <solution>
            <p>
                How many cards are in your friend's collection, <m>S</m>? Well, <m>|S| = 100 - (\text{ number of cards whose number is a multiple of 7})</m>.
                There are 14 multiples of 7 less than 100, so <m>|S| = 100-14 = 86</m>.
            </p>

            <p>
                How many of those 86 cards a multiples of 5? We know <m>20 \cdot 5 = 100</m>, but some of those are mulitples of
                7 as well (35 and 70). So <m>|A| = 20 -2 = 18</m>.
            </p>

            <p>
                Thus, <m>P(A) = \dfrac{|A|}{|S|} = \dfrac{18}{86} = 0.2093</m>.
            </p>
        </solution>
    </question>

    <p>
        How about this somewhat contrived example: A virus spreads on day 1 with probability 0.2. If it doesn't spread on day 1, it spreads on
        day 2 with probability 0.3. If it doesn't spread on day 2, it spreads on day 3 with probability 0.5. 
        After day 3, it will not spread.
    </p>


    <question>
        <statement>
            <p>
                What is the probability the virus spreads on day 2?
            </p>
        </statement>

        <solution>
            <p>
                If the virus spreads on day 2, then it did not spread on day 1. We can say 
                <m>P(\text{ virus spreads on day 2 }) = P(\text{ virus didn't spread on day 1 but did spread on day 2 })
                    = P(\text{ virus didn't spread on day 1})P(\text{ virus spreads on day 2 }) = (0.8)(.3) = 0.24
                </m>
            </p>
        </solution>
    </question>

    <question>
        <statement>
            <p>
                What is the probability that the virus does not spread?
            </p>
        </statement>
        <solution>
            <p>
                Like before, for the virus to not spread, we did not spread for the first three days. So
                <m>P(\text{virus doesn't spread }) = (0.8)(0.7)(0.5) = 0.28</m>.
            </p>
        </solution>
    </question>
</subsection>

<p>
    Note that these examples both said <m>P(A \text{ and } B) = P(A)P(B)</m>. Sometimes this works 
    (<m>P(HH) = P(H)P(H) = \dfrac{1}{2}\dfrac{1}{2} = \dfrac{1}{4}</m>), but many times it doesn't. In future statistics
    courses, you will learn exactly when this works and doesn't.
</p>

<subsection xml:id="subsec-onemore">
    <title>The Importance of Counting</title>
    
    <p>
        Discrete probability questions always ask "How many ways can we do this?" Counting becomes very important,
        and sometimes it can be quite tough. Mathematicians have learned many formulas to count different situations. For the 
        time being, we'll just give one more example to illustrate the importance of counting.
    </p>

     <figure>
            <caption>
                A <m>5 \times 6</m> chocolate bar
            </caption>
            <image xml:id="fig-probchoc" source="prob-chocolate.png" width="80%">
                <shortdescription>
                    A chocolate bar made up of a 5 by 6 grid of chocolate squares
                </shortdescription>
            </image>
        </figure>

    <p>
        A chocolate bar is made up of a <m>5 \times 6</m> grid of chocolate squares that can be
        separated into smaller rectangular bars by either a vertical or horizontal break. 
        Imagine you apply two breaks to such a chocolate bar. What is the probablity that one of 
        the broken pieces is a <m>2 \times 2</m> square?
    </p>

    <figure>
            <caption>
                A <m>5 \times 6</m> chocolate bar broken to obtain a <m>2 \times 2</m> square
            </caption>
            <image xml:id="fig-probchocSquare" source="prob-chocolatebreaksSquare.png" width="80%">
                <shortdescription>
                    A chocolate bar made up of a 5 by 6 grid of chocolate squares with one 
                    horizontal break and one vertical break obtaining a 2 by 2 square.
                </shortdescription>
            </image>
        </figure>

    <p>
        The real question here is asking in how many ways can we apply two breaks to this candy bar.
    </p>

    <question>
        <statement>
            <p>
                In how many ways can we apply two breaks to this candy bar?
            </p>
        </statement>
        <solution>
            <p>
                We'll work the details below.
            </p>
        </solution>
    </question>

    <p>
                We have 4 options for a horizontal break and 5 options for vertical breaks, but in how many
                ways can we apply TWO breaks? We can either apply one horizontal and one vertical break, two horizontal breaks,
                or two vertical breaks. Let's count these separately.
            </p>
            <p>
                The number of ways we can apply one horizontal and one vertical break is simply <m>4 \times 5 = 20</m>. 
            </p>

            <figure>
            <caption>
                A <m>5 \times 6</m> chocolate bar with horizontal and vertical breaks
            </caption>
            <image xml:id="fig-probchoc" source="prob-chocolatebreaks.png" width="80%">
                <shortdescription>
                    A chocolate bar made up of a 5 by 6 grid of chocolate squares with two breaks (one horizontal
                    and one vertical) applied.
                </shortdescription>
            </image>
        </figure>

            <p>
               If we apply one horizontal break at the top crease, there are three other options for a second horizontal
               break. If we break horizontally at the second crease from the top, we only have two other options (without double
               counting breaking along the firs two creases). Finally, if we break at the third crease from the top, we only have one
               more option for a break. In total, we have <m>4\times 3 + 3 \times 2 + 2 \times 1 = 20</m> ways. 
            </p>

            <question>
                <statement>
                    <p>
                        How many ways can we apply two vertical breaks?
                    </p>
                </statement>
                <solution>
                    <p>
                        By similar reasoning from two horizontal breaks, we have <m>5 \times 4 + 4 \times 3 + 3\times 2 + 2\times 1
                            = 40 </m> ways.
                    </p>
                </solution>
            </question>>

        <p>
            So in total, we have <m>20 + 20 + 40 = 80</m> different ways to apply two breaks!
        </p>

        <p>
            To caluculate the probability of obtaining a <m>2 \times 2</m> square, we now need to know
            how many ways we can get a <m>2 \times 2</m> square.
        </p>

        <question>
            <statement>
                <p>
                    How many ways we can get a <m>2 \times 2</m> square by applying two breaks?
                </p>
            </statement>
            <solution>
                <p>
                    With just two breaks, we only get <m>2 \times 2</m> squares from the four corners. So 
                    we only have 4 ways.
                </p>
            </solution>
        </question>

        <question>
            <statement>
                <p>
                    What is the probability of obtaining a <m>2 \times 2</m> square from two breaks?
                </p>
            </statement>
            <solution>
                <p>
                    We already did the hard work here. SO <m>P(2\times 2 \text{ square after two breaks }) =
                        \dfrac{4}{80} = .05. </m>
                </p>
            </solution>
        </question>

</section>